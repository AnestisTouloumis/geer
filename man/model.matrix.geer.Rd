% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geer_class.R
\name{model.matrix.geer}
\alias{model.matrix.geer}
\alias{model.matrix}
\title{Construct Design Matrices from a \code{geer} Object}
\usage{
\method{model.matrix}{geer}(object, ...)
}
\arguments{
\item{object}{an object representing a model of the class \code{geer}.}

\item{...}{additional argument(s) passed to methods.}
}
\value{
The design matrix for the marginal regression model with the specified formula and
data.

There is an attribute \code{"assign"}, an integer vector with an entry for
each column in the matrix giving the term in the formula which gave rise to
the column. Value 0 corresponds to the intercept (if any), and positive
values to terms in the order given by the \code{term.labels} attribute of the
terms structure corresponding to \code{object}.

If there are any factors in terms in the model, there is an attribute
\code{"contrasts"}, a named list with an entry for each factor. This
specifies the contrasts that would be used in terms in which the factor is
coded by contrasts (in some terms dummy coding may be used), either as a
character vector naming a function or as a numeric matrix.
}
\description{
Build the design (model) matrix from a fitted \code{geer} object. Factor
variables are expanded to dummy/contrast-coded columns (according to the
active contrasts), and interaction terms are expanded accordingly.
}
\details{
The design matrix is constructed based on \code{terms(object)}, using the data
stored in \code{object$data}.

For interaction terms, the variable whose levels vary fastest is the first one
listed in the formula (not in the term). For example, in
\code{~ a + b + b:a}, the interaction term \code{b:a} will vary fastest with
respect to \code{a}.

By convention, if the response variable also appears on the right-hand side of
the formula it is dropped (with a warning). However, interactions involving
that term are retained.
}
\examples{
data("leprosy")
fit <- geewa(formula = bacilli ~ factor(period) + factor(period):treatment,
             family = poisson(link = "log"), id = id, data = leprosy)
model.matrix(fit)

data("cerebrovascular")
fit <- geewa_binary(formula = ecg ~ treatment + factor(period), link = "logit",
                    id = id, data = cerebrovascular)
model.matrix(fit)

}
